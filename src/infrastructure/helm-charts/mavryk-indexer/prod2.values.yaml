dipdup:
  image:
    registry: docker.io
    repository: tezosdynamics/mavryk-indexer
    tag: v0.20.1
    pullPolicy: Always
    pullSecret: docker-pull-credentials
  metrics:
    serviceMonitor:
      namespace: kube-prometheus-stack
  database:
    name: dipdup
    backup:
      enabled: true
      env:
        - name: PGHOST
          valueFrom:
            secretKeyRef:
              name: indexer
              key: POSTGRES_HOST_PROD_2
        - name: PGPORT
          valueFrom:
            secretKeyRef:
              name: indexer
              key: POSTGRES_PORT_PROD_2
        - name: PGUSER
          valueFrom:
            secretKeyRef:
              name: indexer
              key: POSTGRES_USERNAME_PROD_2
        - name: PGPASSWORD
          valueFrom:
            secretKeyRef:
              name: indexer
              key: POSTGRES_PASSWORD_PROD_2
        - name: BACKUP_RETENTION_IN_DAYS
          value: '7'
        - name: BACKUP_FOLDER
          value: '/usr/indexer-backup'
  env:
    - name: POSTGRES_HOST
      valueFrom:
        secretKeyRef:
          name: indexer
          key: POSTGRES_HOST_PROD_2
    - name: POSTGRES_PORT
      valueFrom:
        secretKeyRef:
          name: indexer
          key: POSTGRES_PORT_PROD_2
    - name: POSTGRES_USERNAME
      valueFrom:
        secretKeyRef:
          name: indexer
          key: POSTGRES_USERNAME_PROD_2
    - name: POSTGRES_PASSWORD
      valueFrom:
        secretKeyRef:
          name: indexer
          key: POSTGRES_PASSWORD_PROD_2
    - name: ADMIN_SECRET
      valueFrom:
        secretKeyRef:
          name: indexer
          key: HASURA_GRAPHQL_ADMIN_SECRET
    - name: TZKT_GHOSTNET_URL
      value: https://api.ghostnet.tzkt.io
    - name: TZKT_MAINNET_URL
      value: https://api.tzkt.io
  extraConfig: |-
    contracts:
      liquidity_baking:
        address: KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5
        typename: liquidity_baking
      mvk:
        address: KT1UQKrwpU82ngJkNDGssFJVn54BuFs6cQon
        typename: mvk
      governance_proxy:
        address: KT1Wu7Ww63jXYADFwhXyxvxeSVKKSZKVGY7m
        typename: governance_proxy
      governance:
        address: KT1NvzQGiDCQRSMw8p7gaqvwB6Be8cX2bokN
        typename: governance
      doorman:
        address: KT1Jsb7wSRNuF9rqR74K23fP8ta1wUH28c7U
        typename: doorman
      farm:
        address: KT1FGpHmPmGPQre6CdJWirW54yarAE69AC6v #KT1FGpHmPmGPQre6CdJWirW54yarAE69AC6v
        typename: farm
      farm_factory:
        address: KT1JZwikNu2wzU94snXjLcTKcpf3tymGnWoY
        typename: farm_factory
      delegation:
        address: KT1W3a9rVBQu8f1Jr5RvzRxCXauy3MJQtKhH
        typename: delegation
      vesting:
        address: KT1RuqJfxdresBfKQkNEDt7no76gcWEe88hZ
        typename: vesting
      emergency_governance:
        address: KT1CgyjH7BPhk4nma5SmE7xgYjreWr1y1vq8
        typename: emergency_governance
      council:
        address: KT1RQH5Nwwxs7hUqXX57LVc312LC4muvTC58
        typename: council
      break_glass:
        address: KT1GdqT3Kw278HkFuwTHeaJGC3FxCu5YRVTT
        typename: break_glass
      governance_financial:
        address: KT1DHj4hewsGaa2vpLYKDMmXrXENmnfQKapY
        typename: governance_financial
      governance_satellite:
        address: KT1DkGCHHMDrVC9V4YeKf8sDSoRVtDXGKhEE
        typename: governance_satellite
      aggregator:
        address: KT1SCkhFC1pFbu89XvzLf13xvAeBGi4WQNLG
        typename: aggregator
      aggregator_factory:
        address: KT1FwvvhZfEgWWihbEpcbVHDZ4grvS3UdxSg
        typename: aggregator_factory
      treasury:
        address: KT1QWk4f39jGHBEx6uUwwPgcd8TYNrznsGyg
        typename: treasury
      treasury_factory:
        address: KT1FgJLzorzNPQtVhwH5UPzUJA3BJJNAVUGD
        typename: treasury_factory
      token_sale:
        address: KT1EWAvHpNcAgXN5cCBdNatzPNBzR2sX6146
        typename: token_sale
      lending_controller:
        address: KT1VhdtgrgA3SHJyhLbzr1TGJL9rPaPbHaZd
        typename: lending_controller
      lending_controller_mock_time:
        address: KT1X32FdE4udzReNM55cG5ShTM6McaLdM6z8
        typename: lending_controller_mock_time
      vault:
        address: KT1FDXbVGHMXynKRjGWcPpyMxecZwdx9S814
        typename: vault
      vault_factory:
        address: KT1Xsguyd57ToGudw9YiPVozYsGUSTaJBkXU
        typename: vault_factory

    templates:
      # Template for Farm
      farm_template:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - transaction
        contracts:
          - <farm_contract>
        handlers:
          - callback: on_farm_set_admin
            pattern:
              - destination: <farm_contract>
                entrypoint: setAdmin
          - callback: on_farm_set_governance
            pattern:
              - destination: <farm_contract>
                entrypoint: setGovernance
          - callback: on_farm_update_config
            pattern:
              - destination: <farm_contract>
                entrypoint: updateConfig
          - callback: on_farm_update_whitelist_contracts
            pattern:
              - destination: <farm_contract>
                entrypoint: updateWhitelistContracts
          - callback: on_farm_update_general_contracts
            pattern:
              - destination: <farm_contract>
                entrypoint: updateGeneralContracts
          - callback: on_farm_init_farm
            pattern:
              - destination: <farm_contract>
                entrypoint: initFarm
          - callback: on_farm_close_farm
            pattern:
              - destination: <farm_contract>
                entrypoint: closeFarm
          - callback: on_farm_pause_all
            pattern:
              - destination: <farm_contract>
                entrypoint: pauseAll
          - callback: on_farm_unpause_all
            pattern:
              - destination: <farm_contract>
                entrypoint: unpauseAll
          - callback: on_farm_toggle_pause_entrypoint
            pattern:
              - destination: <farm_contract>
                entrypoint: togglePauseEntrypoint
          - callback: on_farm_deposit
            pattern:
              - destination: <farm_contract>
                entrypoint: deposit
          - callback: on_farm_withdraw
            pattern:
              - destination: <farm_contract>
                entrypoint: withdraw
          - callback: on_farm_claim
            pattern:
              - destination: <farm_contract>
                entrypoint: claim
      # Template for Treasury
      treasury_template:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - transaction
        contracts:
          - <treasury_contract>
        handlers:
          - callback: on_treasury_set_admin
            pattern:
              - destination: <treasury_contract>
                entrypoint: setAdmin
          - callback: on_treasury_set_governance
            pattern:
              - destination: <treasury_contract>
                entrypoint: setGovernance
          - callback: on_treasury_update_general_contracts
            pattern:
              - destination: <treasury_contract>
                entrypoint: updateGeneralContracts
          - callback: on_treasury_update_whitelist_contracts
            pattern:
              - destination: <treasury_contract>
                entrypoint: updateWhitelistContracts
          - callback: on_treasury_update_whitelist_token_contracts
            pattern:
              - destination: <treasury_contract>
                entrypoint: updateWhitelistTokenContracts
          - callback: on_treasury_pause_all
            pattern:
              - destination: <treasury_contract>
                entrypoint: pauseAll
          - callback: on_treasury_unpause_all
            pattern:
              - destination: <treasury_contract>
                entrypoint: unpauseAll
          - callback: on_treasury_toggle_pause_entrypoint
            pattern:
              - destination: <treasury_contract>
                entrypoint: togglePauseEntrypoint
          - callback: on_treasury_transfer
            pattern:
              - destination: <treasury_contract>
                entrypoint: transfer
      # Template for Aggregator
      aggregator_template:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - transaction
        contracts:
          - <aggregator_contract>
        handlers:
          - callback: on_aggregator_set_admin
            pattern:
              - destination: <aggregator_contract>
                entrypoint: setAdmin
          - callback: on_aggregator_set_governance
            pattern:
              - destination: <aggregator_contract>
                entrypoint: setGovernance
          - callback: on_aggregator_set_name
            pattern:
              - destination: <aggregator_contract>
                entrypoint: setName
          - callback: on_aggregator_update_config
            pattern:
              - destination: <aggregator_contract>
                entrypoint: updateConfig
          - callback: on_aggregator_update_whitelist_contracts
            pattern:
              - destination: <aggregator_contract>
                entrypoint: updateWhitelistContracts
          - callback: on_aggregator_update_general_contracts
            pattern:
              - destination: <aggregator_contract>
                entrypoint: updateGeneralContracts
          - callback: on_aggregator_add_oracle
            pattern:
              - destination: <aggregator_contract>
                entrypoint: addOracle
          - callback: on_aggregator_remove_oracle
            pattern:
              - destination: <aggregator_contract>
                entrypoint: removeOracle
          - callback: on_aggregator_pause_all
            pattern:
              - destination: <aggregator_contract>
                entrypoint: pauseAll
          - callback: on_aggregator_unpause_all
            pattern:
              - destination: <aggregator_contract>
                entrypoint: unpauseAll
          - callback: on_aggregator_toggle_pause_entrypoint
            pattern:
              - destination: <aggregator_contract>
                entrypoint: togglePauseEntrypoint
          - callback: on_aggregator_update_data
            pattern:
              - destination: <aggregator_contract>
                entrypoint: updateData
          - callback: on_aggregator_withdraw_reward_xtz
            pattern:
              - destination: <aggregator_contract>
                entrypoint: withdrawRewardXtz
          - callback: on_aggregator_withdraw_reward_staked_mvk
            pattern:
              - destination: <aggregator_contract>
                entrypoint: withdrawRewardStakedMvk
          - callback: on_aggregator_set_lambda
            pattern:
              - destination: <aggregator_contract>
                entrypoint: setLambda
      # Template for Vault
      vault_template:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - transaction
        contracts:
          - <vault_contract>
        handlers:
          - callback: on_vault_set_admin
            pattern:
              - destination: <vault_contract>
                entrypoint: setAdmin
          - callback: on_vault_set_governance
            pattern:
              - destination: <vault_contract>
                entrypoint: setGovernance
          - callback: on_vault_update_depositor
            pattern:
              - destination: <vault_contract>
                entrypoint: updateDepositor
          - callback: on_vault_set_lambda
            pattern:
              - destination: <vault_contract>
                entrypoint: setLambda

    indexes:
      # BIGMAP INDEXES
      # Governance Satellite snapshot big_map index
      governance_satellite_snapshot:
        kind: big_map
        datasource: tzkt_ghostnet
        skip_history: never
        handlers:
          - callback: on_governance_snapshot_ledger_update
            contract: governance
            path: snapshotLedger
      # OPERATION INDEXES
      # Liquidity Baking contract indexes
      liquidity_baking:
        kind: operation
        datasource: tzkt_mainnet
        types:
          - origination
          - transaction
        contracts:
          - liquidity_baking
        handlers:
          - callback: on_liquidity_baking_add_liquidity
            pattern:
              - destination: liquidity_baking
                entrypoint: addLiquidity
          - callback: on_liquidity_baking_remove_liquidity
            pattern:
              - destination: liquidity_baking
                entrypoint: removeLiquidity
          - callback: on_liquidity_baking_token_to_xtz
            pattern:
              - destination: liquidity_baking
                entrypoint: tokenToXtz
          - callback: on_liquidity_baking_xtz_to_token
            pattern:
              - destination: liquidity_baking
                entrypoint: xtzToToken
          - callback: on_liquidity_baking_token_to_token
            pattern:
              - destination: liquidity_baking
                entrypoint: tokenToToken
      # MVK Token contract indexes
      mvk:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - mvk
        handlers:
          - callback: on_mvk_origination
            pattern:
              - type: origination
                originated_contract: mvk
          - callback: on_mvk_set_admin
            pattern:
              - destination: mvk
                entrypoint: setAdmin
          - callback: on_mvk_set_governance
            pattern:
              - destination: mvk
                entrypoint: setGovernance
          - callback: on_mvk_update_whitelist_contracts
            pattern:
              - destination: mvk
                entrypoint: updateWhitelistContracts
          - callback: on_mvk_update_general_contracts
            pattern:
              - destination: mvk
                entrypoint: updateGeneralContracts
          - callback: on_mvk_transfer
            pattern:
              - destination: mvk
                entrypoint: transfer
          - callback: on_mvk_update_operators
            pattern:
              - destination: mvk
                entrypoint: update_operators
          - callback: on_mvk_mint
            pattern:
              - destination: mvk
                entrypoint: mint
          - callback: on_mvk_update_inflation_rate
            pattern:
              - destination: mvk
                entrypoint: updateInflationRate
          - callback: on_mvk_trigger_inflation
            pattern:
              - destination: mvk
                entrypoint: triggerInflation
      # Governance Proxy contract indexes
      governance_proxy:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - governance_proxy
        handlers:
          - callback: on_governance_proxy_origination
            pattern:
              - type: origination
                originated_contract: governance_proxy
          - callback: on_governance_proxy_set_admin
            pattern:
              - destination: governance_proxy
                entrypoint: setAdmin
          - callback: on_governance_proxy_set_governance
            pattern:
              - destination: governance_proxy
                entrypoint: setGovernance
          - callback: on_governance_proxy_update_whitelist_contracts
            pattern:
              - destination: governance_proxy
                entrypoint: updateWhitelistContracts
          - callback: on_governance_proxy_update_whitelist_token_contracts
            pattern:
              - destination: governance_proxy
                entrypoint: updateWhitelistTokenContracts
          - callback: on_governance_proxy_update_general_contracts
            pattern:
              - destination: governance_proxy
                entrypoint: updateGeneralContracts
          - callback: on_governance_proxy_set_lambda
            pattern:
              - destination: governance_proxy
                entrypoint: setLambda
          - callback: on_governance_proxy_set_proxy_lambda
            pattern:
              - destination: governance_proxy
                entrypoint: setProxyLambda
      # Governance contract indexes
      governance:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - governance
        handlers:
          - callback: on_governance_origination
            pattern:
              - type: origination
                originated_contract: governance
          - callback: on_governance_break_glass
            pattern:
              - destination: governance
                entrypoint: breakGlass
          - callback: on_governance_set_admin
            pattern:
              - destination: governance
                entrypoint: setAdmin
          - callback: on_governance_set_governance_proxy
            pattern:
              - destination: governance
                entrypoint: setGovernanceProxy
          - callback: on_governance_update_config
            pattern:
              - destination: governance
                entrypoint: updateConfig
          - callback: on_governance_update_general_contracts
            pattern:
              - destination: governance
                entrypoint: updateGeneralContracts
          - callback: on_governance_update_whitelist_contracts
            pattern:
              - destination: governance
                entrypoint: updateWhitelistContracts
          - callback: on_governance_update_whitelist_developers
            pattern:
              - destination: governance
                entrypoint: updateWhitelistDevelopers
          - callback: on_governance_start_next_round
            pattern:
              - destination: governance
                entrypoint: startNextRound
          - callback: on_governance_propose
            pattern:
              - destination: governance
                entrypoint: propose
          - callback: on_governance_proposal_round_vote
            pattern:
              - destination: governance
                entrypoint: proposalRoundVote
          - callback: on_governance_update_proposal_data
            pattern:
              - destination: governance
                entrypoint: updateProposalData
          - callback: on_governance_lock_proposal
            pattern:
              - destination: governance
                entrypoint: lockProposal
          - callback: on_governance_voting_round_vote
            pattern:
              - destination: governance
                entrypoint: votingRoundVote
          - callback: on_governance_execute_proposal
            pattern:
              - destination: governance
                entrypoint: executeProposal
          - callback: on_governance_process_proposal_payment
            pattern:
              - destination: governance
                entrypoint: processProposalPayment
          - callback: on_governance_process_proposal_single_date
            pattern:
              - destination: governance
                entrypoint: processProposalSingleData
          - callback: on_governance_drop_proposal
            pattern:
              - destination: governance
                entrypoint: dropProposal
          - callback: on_governance_set_lambda
            pattern:
              - destination: governance
                entrypoint: setLambda
      # Doorman contract indexes
      doorman:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - doorman
          - mvk
        handlers:
          - callback: on_doorman_origination
            pattern:
              - type: origination
                originated_contract: doorman
          - callback: on_doorman_set_admin
            pattern:
              - destination: doorman
                entrypoint: setAdmin
          - callback: on_doorman_set_governance
            pattern:
              - destination: doorman
                entrypoint: setGovernance
          - callback: on_doorman_update_config
            pattern:
              - destination: doorman
                entrypoint: updateConfig
          - callback: on_doorman_update_whitelist_contracts
            pattern:
              - destination: doorman
                entrypoint: updateWhitelistContracts
          - callback: on_doorman_update_general_contracts
            pattern:
              - destination: doorman
                entrypoint: updateGeneralContracts
          - callback: on_doorman_pause_all
            pattern:
              - destination: doorman
                entrypoint: pauseAll
          - callback: on_doorman_unpause_all
            pattern:
              - destination: doorman
                entrypoint: unpauseAll
          - callback: on_doorman_toggle_pause_entrypoint
            pattern:
              - destination: doorman
                entrypoint: togglePauseEntrypoint
          - callback: on_doorman_stake
            pattern:
              - destination: doorman
                entrypoint: stake
              - source: doorman
                destination: mvk
                entrypoint: transfer
          - callback: on_doorman_unstake
            pattern:
              - destination: doorman
                entrypoint: unstake
              - source: doorman
                destination: mvk
                entrypoint: transfer
          - callback: on_doorman_compound
            pattern:
              - destination: doorman
                entrypoint: compound
          - callback: on_doorman_farm_claim
            pattern:
              - destination: doorman
                entrypoint: farmClaim
          - callback: on_doorman_on_vault_deposit_staked_mvk
            pattern:
              - destination: doorman
                entrypoint: onVaultDepositStakedMvk
          - callback: on_doorman_on_vault_withdraw_staked_mvk
            pattern:
              - destination: doorman
                entrypoint: onVaultWithdrawStakedMvk
          - callback: on_doorman_on_vault_liquidate_staked_mvk
            pattern:
              - destination: doorman
                entrypoint: onVaultLiquidateStakedMvk
          - callback: on_doorman_set_lambda
            pattern:
              - destination: doorman
                entrypoint: setLambda
      # Farm contract indexes
      farm:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - farm
        handlers:
          - callback: on_farm_origination
            pattern:
              - type: origination
                originated_contract: farm
          - callback: on_farm_set_admin
            pattern:
              - destination: farm
                entrypoint: setAdmin
          - callback: on_farm_set_governance
            pattern:
              - destination: farm
                entrypoint: setGovernance
          - callback: on_farm_update_config
            pattern:
              - destination: farm
                entrypoint: updateConfig
          - callback: on_farm_update_whitelist_contracts
            pattern:
              - destination: farm
                entrypoint: updateWhitelistContracts
          - callback: on_farm_update_general_contracts
            pattern:
              - destination: farm
                entrypoint: updateGeneralContracts
          - callback: on_farm_init_farm
            pattern:
              - destination: farm
                entrypoint: initFarm
          - callback: on_farm_close_farm
            pattern:
              - destination: farm
                entrypoint: closeFarm
          - callback: on_farm_pause_all
            pattern:
              - destination: farm
                entrypoint: pauseAll
          - callback: on_farm_unpause_all
            pattern:
              - destination: farm
                entrypoint: unpauseAll
          - callback: on_farm_toggle_pause_entrypoint
            pattern:
              - destination: farm
                entrypoint: togglePauseEntrypoint
          - callback: on_farm_deposit
            pattern:
              - destination: farm
                entrypoint: deposit
          - callback: on_farm_withdraw
            pattern:
              - destination: farm
                entrypoint: withdraw
          - callback: on_farm_claim
            pattern:
              - destination: farm
                entrypoint: claim
          - callback: on_farm_set_lambda
            pattern:
              - destination: farm
                entrypoint: setLambda
      # Farm Factory contract indexes
      farm_factory:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - farm_factory
          - farm
        handlers:
          - callback: on_farm_factory_origination
            pattern:
              - type: origination
                originated_contract: farm_factory
          - callback: on_farm_factory_set_admin
            pattern:
              - destination: farm_factory
                entrypoint: setAdmin
          - callback: on_farm_factory_set_governance
            pattern:
              - destination: farm_factory
                entrypoint: setGovernance
          - callback: on_farm_factory_update_config
            pattern:
              - destination: farm_factory
                entrypoint: updateConfig
          - callback: on_farm_factory_update_whitelist_contracts
            pattern:
              - destination: farm_factory
                entrypoint: updateWhitelistContracts
          - callback: on_farm_factory_update_general_contracts
            pattern:
              - destination: farm_factory
                entrypoint: updateGeneralContracts
          - callback: on_farm_factory_pause_all
            pattern:
              - destination: farm_factory
                entrypoint: pauseAll
          - callback: on_farm_factory_unpause_all
            pattern:
              - destination: farm_factory
                entrypoint: unpauseAll
          - callback: on_farm_factory_toggle_pause_entrypoint
            pattern:
              - destination: farm_factory
                entrypoint: togglePauseEntrypoint
          - callback: on_farm_factory_create_farm
            pattern:
              - destination: farm_factory
                entrypoint: createFarm
              - source: farm_factory
                type: origination
                similar_to: farm
          - callback: on_farm_factory_track_farm
            pattern:
              - destination: farm_factory
                entrypoint: trackFarm
          - callback: on_farm_factory_untrack_farm
            pattern:
              - destination: farm_factory
                entrypoint: untrackFarm
          - callback: on_farm_factory_set_lambda
            pattern:
              - destination: farm_factory
                entrypoint: setLambda
          - callback: on_farm_factory_set_product_lambda
            pattern:
              - destination: farm_factory
                entrypoint: setProductLambda
      # Delegation contract indexes
      delegation:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - delegation
        handlers:
          - callback: on_delegation_origination
            pattern:
              - type: origination
                originated_contract: delegation
          - callback: on_delegation_set_admin
            pattern:
              - destination: delegation
                entrypoint: setAdmin
          - callback: on_delegation_set_governance
            pattern:
              - destination: delegation
                entrypoint: setGovernance
          - callback: on_delegation_update_config
            pattern:
              - destination: delegation
                entrypoint: updateConfig
          - callback: on_delegation_update_whitelist_contracts
            pattern:
              - destination: delegation
                entrypoint: updateWhitelistContracts
          - callback: on_delegation_update_general_contracts
            pattern:
              - destination: delegation
                entrypoint: updateGeneralContracts
          - callback: on_delegation_pause_all
            pattern:
              - destination: delegation
                entrypoint: pauseAll
          - callback: on_delegation_unpause_all
            pattern:
              - destination: delegation
                entrypoint: unpauseAll
          - callback: on_delegation_toggle_pause_entrypoint
            pattern:
              - destination: delegation
                entrypoint: togglePauseEntrypoint
          - callback: on_delegation_delegate_to_satellite
            pattern:
              - destination: delegation
                entrypoint: delegateToSatellite
          - callback: on_delegation_undelegate_from_satellite
            pattern:
              - destination: delegation
                entrypoint: undelegateFromSatellite
          - callback: on_delegation_register_as_satellite
            pattern:
              - destination: delegation
                entrypoint: registerAsSatellite
          - callback: on_delegation_unregister_as_satellite
            pattern:
              - destination: delegation
                entrypoint: unregisterAsSatellite
          - callback: on_delegation_update_satellite_record
            pattern:
              - destination: delegation
                entrypoint: updateSatelliteRecord
          - callback: on_delegation_distribute_reward
            pattern:
              - destination: delegation
                entrypoint: distributeReward
          - callback: on_delegation_update_satellite_status
            pattern:
              - destination: delegation
                entrypoint: updateSatelliteStatus
          - callback: on_delegation_on_stake_change
            pattern:
              - destination: delegation
                entrypoint: onStakeChange
          - callback: on_delegation_set_lambda
            pattern:
              - destination: delegation
                entrypoint: setLambda
      # Vesting contract indexes
      vesting:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - vesting
        handlers:
          - callback: on_vesting_origination
            pattern:
              - type: origination
                originated_contract: vesting
          - callback: on_vesting_set_admin
            pattern:
              - destination: vesting
                entrypoint: setAdmin
          - callback: on_vesting_set_governance
            pattern:
              - destination: vesting
                entrypoint: setGovernance
          - callback: on_vesting_update_whitelist_contracts
            pattern:
              - destination: vesting
                entrypoint: updateWhitelistContracts
          - callback: on_vesting_update_general_contracts
            pattern:
              - destination: vesting
                entrypoint: updateGeneralContracts
          - callback: on_vesting_add_vestee
            pattern:
              - destination: vesting
                entrypoint: addVestee
          - callback: on_vesting_remove_vestee
            pattern:
              - destination: vesting
                entrypoint: removeVestee
          - callback: on_vesting_update_vestee
            pattern:
              - destination: vesting
                entrypoint: updateVestee
          - callback: on_vesting_toggle_vestee_lock
            pattern:
              - destination: vesting
                entrypoint: toggleVesteeLock
          - callback: on_vesting_claim
            pattern:
              - destination: vesting
                entrypoint: claim
          - callback: on_vesting_set_lambda
            pattern:
              - destination: vesting
                entrypoint: setLambda
      # Emergency Governance contract indexes
      emergency_governance:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - emergency_governance
        handlers:
          - callback: on_emergency_governance_origination
            pattern:
              - type: origination
                originated_contract: emergency_governance
          - callback: on_emergency_governance_set_admin
            pattern:
              - destination: emergency_governance
                entrypoint: setAdmin
          - callback: on_emergency_governance_set_governance
            pattern:
              - destination: emergency_governance
                entrypoint: setGovernance
          - callback: on_emergency_governance_update_config
            pattern:
              - destination: emergency_governance
                entrypoint: updateConfig
          - callback: on_emergency_governance_update_general_contracts
            pattern:
              - destination: emergency_governance
                entrypoint: updateGeneralContracts
          - callback: on_emergency_governance_update_whitelist_contracts
            pattern:
              - destination: emergency_governance
                entrypoint: updateWhitelistContracts
          - callback: on_emergency_governance_trigger_emergency_control
            pattern:
              - destination: emergency_governance
                entrypoint: triggerEmergencyControl
          - callback: on_emergency_governance_vote_for_emergency_control
            pattern:
              - destination: emergency_governance
                entrypoint: voteForEmergencyControl
          - callback: on_emergency_governance_drop_emergency_governance
            pattern:
              - destination: emergency_governance
                entrypoint: dropEmergencyGovernance
          - callback: on_emergency_governance_set_lambda
            pattern:
              - destination: emergency_governance
                entrypoint: setLambda
      # Council contract indexes
      council:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - council
        handlers:
          - callback: on_council_origination
            pattern:
              - type: origination
                originated_contract: council
          - callback: on_council_set_admin
            pattern:
              - destination: council
                entrypoint: setAdmin
          - callback: on_council_set_governance
            pattern:
              - destination: council
                entrypoint: setGovernance
          - callback: on_council_update_config
            pattern:
              - destination: council
                entrypoint: updateConfig
          - callback: on_council_update_whitelist_contracts
            pattern:
              - destination: council
                entrypoint: updateWhitelistContracts
          - callback: on_council_update_general_contracts
            pattern:
              - destination: council
                entrypoint: updateGeneralContracts
          - callback: on_council_update_council_member_info
            pattern:
              - destination: council
                entrypoint: updateCouncilMemberInfo
          - callback: on_council_council_action_add_member
            pattern:
              - destination: council
                entrypoint: councilActionAddMember
          - callback: on_council_council_action_remove_member
            pattern:
              - destination: council
                entrypoint: councilActionRemoveMember
          - callback: on_council_council_action_change_member
            pattern:
              - destination: council
                entrypoint: councilActionChangeMember
          - callback: on_council_council_action_set_baker
            pattern:
              - destination: council
                entrypoint: councilActionSetBaker
          - callback: on_council_council_action_add_vestee
            pattern:
              - destination: council
                entrypoint: councilActionAddVestee
          - callback: on_council_council_action_remove_vestee
            pattern:
              - destination: council
                entrypoint: councilActionRemoveVestee
          - callback: on_council_council_action_update_vestee
            pattern:
              - destination: council
                entrypoint: councilActionUpdateVestee
          - callback: on_council_council_action_toggle_vestee_lock
            pattern:
              - destination: council
                entrypoint: councilActionToggleVesteeLock
          - callback: on_council_council_action_transfer
            pattern:
              - destination: council
                entrypoint: councilActionTransfer
          - callback: on_council_council_action_request_tokens
            pattern:
              - destination: council
                entrypoint: councilActionRequestTokens
          - callback: on_council_council_action_request_mint
            pattern:
              - destination: council
                entrypoint: councilActionRequestMint
          - callback: on_council_council_action_set_contract_baker
            pattern:
              - destination: council
                entrypoint: councilActionSetContractBaker
          - callback: on_council_council_action_drop_financial_req
            pattern:
              - destination: council
                entrypoint: councilActionDropFinancialReq
          - callback: on_council_flush_action
            pattern:
              - destination: council
                entrypoint: flushAction
          - callback: on_council_sign_action
            pattern:
              - destination: council
                entrypoint: signAction
          - callback: on_council_set_lambda
            pattern:
              - destination: council
                entrypoint: setLambda
      # Break Glass contract indexes
      break_glass:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - break_glass
        handlers:
          - callback: on_break_glass_break_glass
            pattern:
              - destination: break_glass
                entrypoint: breakGlass
          - callback: on_break_glass_origination
            pattern:
              - type: origination
                originated_contract: break_glass
          - callback: on_break_glass_set_admin
            pattern:
              - destination: break_glass
                entrypoint: setAdmin
          - callback: on_break_glass_set_governance
            pattern:
              - destination: break_glass
                entrypoint: setGovernance
          - callback: on_break_glass_update_config
            pattern:
              - destination: break_glass
                entrypoint: updateConfig
          - callback: on_break_glass_update_whitelist_contracts
            pattern:
              - destination: break_glass
                entrypoint: updateWhitelistContracts
          - callback: on_break_glass_update_general_contracts
            pattern:
              - destination: break_glass
                entrypoint: updateGeneralContracts
          - callback: on_break_glass_update_council_member_info
            pattern:
              - destination: break_glass
                entrypoint: updateCouncilMemberInfo
          - callback: on_break_glass_add_council_member
            pattern:
              - destination: break_glass
                entrypoint: addCouncilMember
          - callback: on_break_glass_remove_council_member
            pattern:
              - destination: break_glass
                entrypoint: removeCouncilMember
          - callback: on_break_glass_change_council_member
            pattern:
              - destination: break_glass
                entrypoint: changeCouncilMember
          - callback: on_break_glass_propagate_break_glass
            pattern:
              - destination: break_glass
                entrypoint: propagateBreakGlass
          - callback: on_break_glass_set_single_contract_admin
            pattern:
              - destination: break_glass
                entrypoint: setSingleContractAdmin
          - callback: on_break_glass_set_all_contracts_admin
            pattern:
              - destination: break_glass
                entrypoint: setAllContractsAdmin
          - callback: on_break_glass_pause_all_entrypoints
            pattern:
              - destination: break_glass
                entrypoint: pauseAllEntrypoints
          - callback: on_break_glass_unpause_all_entrypoints
            pattern:
              - destination: break_glass
                entrypoint: unpauseAllEntrypoints
          - callback: on_break_glass_remove_break_glass_control
            pattern:
              - destination: break_glass
                entrypoint: removeBreakGlassControl
          - callback: on_break_glass_flush_action
            pattern:
              - destination: break_glass
                entrypoint: flushAction
          - callback: on_break_glass_sign_action
            pattern:
              - destination: break_glass
                entrypoint: signAction
          - callback: on_break_glass_set_lambda
            pattern:
              - destination: break_glass
                entrypoint: setLambda
      # Governance Financial contract indexes
      governance_financial:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - governance_financial
        handlers:
          - callback: on_governance_financial_origination
            pattern:
              - type: origination
                originated_contract: governance_financial
          - callback: on_governance_financial_set_admin
            pattern:
              - destination: governance_financial
                entrypoint: setAdmin
          - callback: on_governance_financial_set_governance
            pattern:
              - destination: governance_financial
                entrypoint: setGovernance
          - callback: on_governance_financial_update_config
            pattern:
              - destination: governance_financial
                entrypoint: updateConfig
          - callback: on_governance_financial_update_general_contracts
            pattern:
              - destination: governance_financial
                entrypoint: updateGeneralContracts
          - callback: on_governance_financial_update_whitelist_contracts
            pattern:
              - destination: governance_financial
                entrypoint: updateWhitelistContracts
          - callback: on_governance_financial_update_whitelist_token_contracts
            pattern:
              - destination: governance_financial
                entrypoint: updateWhitelistTokenContracts
          - callback: on_governance_financial_request_tokens
            pattern:
              - destination: governance_financial
                entrypoint: requestTokens
          - callback: on_governance_financial_request_mint
            pattern:
              - destination: governance_financial
                entrypoint: requestMint
          - callback: on_governance_financial_set_contract_baker
            pattern:
              - destination: governance_financial
                entrypoint: setContractBaker
          - callback: on_governance_financial_drop_financial_request
            pattern:
              - destination: governance_financial
                entrypoint: dropFinancialRequest
          - callback: on_governance_financial_vote_for_request
            pattern:
              - destination: governance_financial
                entrypoint: voteForRequest
          - callback: on_governance_financial_set_lambda
            pattern:
              - destination: governance_financial
                entrypoint: setLambda
      # Governance Satellite contract indexes
      governance_satellite:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - governance_satellite
        handlers:
          - callback: on_governance_satellite_origination
            pattern:
              - type: origination
                originated_contract: governance_satellite
          - callback: on_governance_satellite_set_admin
            pattern:
              - destination: governance_satellite
                entrypoint: setAdmin
          - callback: on_governance_satellite_set_governance
            pattern:
              - destination: governance_satellite
                entrypoint: setGovernance
          - callback: on_governance_satellite_update_config
            pattern:
              - destination: governance_satellite
                entrypoint: updateConfig
          - callback: on_governance_satellite_update_whitelist_contracts
            pattern:
              - destination: governance_satellite
                entrypoint: updateWhitelistContracts
          - callback: on_governance_satellite_update_general_contracts
            pattern:
              - destination: governance_satellite
                entrypoint: updateGeneralContracts
          - callback: on_governance_satellite_suspend_satellite
            pattern:
              - destination: governance_satellite
                entrypoint: suspendSatellite
          - callback: on_governance_satellite_ban_satellite
            pattern:
              - destination: governance_satellite
                entrypoint: banSatellite
          - callback: on_governance_satellite_restore_satellite
            pattern:
              - destination: governance_satellite
                entrypoint: restoreSatellite
          - callback: on_governance_satellite_remove_all_satellite_oracles
            pattern:
              - destination: governance_satellite
                entrypoint: removeAllSatelliteOracles
          - callback: on_governance_satellite_add_oracle_to_aggregator
            pattern:
              - destination: governance_satellite
                entrypoint: addOracleToAggregator
          - callback: on_governance_satellite_remove_oracle_in_aggregator
            pattern:
              - destination: governance_satellite
                entrypoint: removeOracleInAggregator
          - callback: on_governance_satellite_toggle_pause_aggregator
            pattern:
              - destination: governance_satellite
                entrypoint: togglePauseAggregator
          - callback: on_governance_satellite_fix_mistaken_transfer
            pattern:
              - destination: governance_satellite
                entrypoint: fixMistakenTransfer
          - callback: on_governance_satellite_drop_action
            pattern:
              - destination: governance_satellite
                entrypoint: dropAction
          - callback: on_governance_satellite_vote_for_action
            pattern:
              - destination: governance_satellite
                entrypoint: voteForAction
          - callback: on_governance_satellite_set_lambda
            pattern:
              - destination: governance_satellite
                entrypoint: setLambda
      # Aggregator contract indexes
      aggregator:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - aggregator
        handlers:
          - callback: on_aggregator_origination
            pattern:
              - type: origination
                originated_contract: aggregator
          - callback: on_aggregator_set_admin
            pattern:
              - destination: aggregator
                entrypoint: setAdmin
          - callback: on_aggregator_set_governance
            pattern:
              - destination: aggregator
                entrypoint: setGovernance
          - callback: on_aggregator_set_name
            pattern:
              - destination: aggregator
                entrypoint: setName
          - callback: on_aggregator_update_config
            pattern:
              - destination: aggregator
                entrypoint: updateConfig
          - callback: on_aggregator_update_whitelist_contracts
            pattern:
              - destination: aggregator
                entrypoint: updateWhitelistContracts
          - callback: on_aggregator_update_general_contracts
            pattern:
              - destination: aggregator
                entrypoint: updateGeneralContracts
          - callback: on_aggregator_add_oracle
            pattern:
              - destination: aggregator
                entrypoint: addOracle
          - callback: on_aggregator_remove_oracle
            pattern:
              - destination: aggregator
                entrypoint: removeOracle
          - callback: on_aggregator_pause_all
            pattern:
              - destination: aggregator
                entrypoint: pauseAll
          - callback: on_aggregator_unpause_all
            pattern:
              - destination: aggregator
                entrypoint: unpauseAll
          - callback: on_aggregator_toggle_pause_entrypoint
            pattern:
              - destination: aggregator
                entrypoint: togglePauseEntrypoint
          - callback: on_aggregator_update_data
            pattern:
              - destination: aggregator
                entrypoint: updateData
          - callback: on_aggregator_withdraw_reward_xtz
            pattern:
              - destination: aggregator
                entrypoint: withdrawRewardXtz
          - callback: on_aggregator_withdraw_reward_staked_mvk
            pattern:
              - destination: aggregator
                entrypoint: withdrawRewardStakedMvk
          - callback: on_aggregator_set_lambda
            pattern:
              - destination: aggregator
                entrypoint: setLambda
      # Aggregator Factory contract indexes
      aggregator_factory:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - aggregator_factory
        handlers:
          - callback: on_aggregator_factory_origination
            pattern:
              - type: origination
                originated_contract: aggregator_factory
          - callback: on_aggregator_factory_set_admin
            pattern:
              - destination: aggregator_factory
                entrypoint: setAdmin
          - callback: on_aggregator_factory_set_governance
            pattern:
              - destination: aggregator_factory
                entrypoint: setGovernance
          - callback: on_aggregator_factory_update_config
            pattern:
              - destination: aggregator_factory
                entrypoint: updateConfig
          - callback: on_aggregator_factory_update_whitelist_contracts
            pattern:
              - destination: aggregator_factory
                entrypoint: updateWhitelistContracts
          - callback: on_aggregator_factory_update_general_contracts
            pattern:
              - destination: aggregator_factory
                entrypoint: updateGeneralContracts
          - callback: on_aggregator_factory_pause_all
            pattern:
              - destination: aggregator_factory
                entrypoint: pauseAll
          - callback: on_aggregator_factory_unpause_all
            pattern:
              - destination: aggregator_factory
                entrypoint: unpauseAll
          - callback: on_aggregator_factory_toggle_pause_entrypoint
            pattern:
              - destination: aggregator_factory
                entrypoint: togglePauseEntrypoint
          - callback: on_aggregator_factory_create_aggregator
            pattern:
              - destination: aggregator_factory
                entrypoint: createAggregator
              - source: aggregator_factory
                type: origination
                similar_to: aggregator
          - callback: on_aggregator_factory_track_aggregator
            pattern:
              - destination: aggregator_factory
                entrypoint: trackAggregator
          - callback: on_aggregator_factory_untrack_aggregator
            pattern:
              - destination: aggregator_factory
                entrypoint: untrackAggregator
          - callback: on_aggregator_factory_set_lambda
            pattern:
              - destination: aggregator_factory
                entrypoint: setLambda
          - callback: on_aggregator_factory_set_product_lambda
            pattern:
              - destination: aggregator_factory
                entrypoint: setProductLambda
      # Treasury contract indexes
      treasury:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - treasury
        handlers:
          - callback: on_treasury_origination
            pattern:
              - type: origination
                originated_contract: treasury
          - callback: on_treasury_set_admin
            pattern:
              - destination: treasury
                entrypoint: setAdmin
          - callback: on_treasury_set_governance
            pattern:
              - destination: treasury
                entrypoint: setGovernance
          - callback: on_treasury_update_general_contracts
            pattern:
              - destination: treasury
                entrypoint: updateGeneralContracts
          - callback: on_treasury_update_whitelist_contracts
            pattern:
              - destination: treasury
                entrypoint: updateWhitelistContracts
          - callback: on_treasury_update_whitelist_token_contracts
            pattern:
              - destination: treasury
                entrypoint: updateWhitelistTokenContracts
          - callback: on_treasury_pause_all
            pattern:
              - destination: treasury
                entrypoint: pauseAll
          - callback: on_treasury_unpause_all
            pattern:
              - destination: treasury
                entrypoint: unpauseAll
          - callback: on_treasury_toggle_pause_entrypoint
            pattern:
              - destination: treasury
                entrypoint: togglePauseEntrypoint
          - callback: on_treasury_transfer
            pattern:
              - destination: treasury
                entrypoint: transfer
          - callback: on_treasury_set_lambda
            pattern:
              - destination: treasury
                entrypoint: setLambda
      # Treasury Factory contract indexes
      treasury_factory:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - treasury_factory
          - treasury
        handlers:
          - callback: on_treasury_factory_origination
            pattern:
              - type: origination
                originated_contract: treasury_factory
          - callback: on_treasury_factory_set_admin
            pattern:
              - destination: treasury_factory
                entrypoint: setAdmin
          - callback: on_treasury_factory_set_governance
            pattern:
              - destination: treasury_factory
                entrypoint: setGovernance
          - callback: on_treasury_factory_update_config
            pattern:
              - destination: treasury_factory
                entrypoint: updateConfig
          - callback: on_treasury_factory_update_general_contracts
            pattern:
              - destination: treasury_factory
                entrypoint: updateGeneralContracts
          - callback: on_treasury_factory_update_whitelist_contracts
            pattern:
              - destination: treasury_factory
                entrypoint: updateWhitelistContracts
          - callback: on_treasury_factory_update_whitelist_token_contracts
            pattern:
              - destination: treasury_factory
                entrypoint: updateWhitelistTokenContracts
          - callback: on_treasury_factory_pause_all
            pattern:
              - destination: treasury_factory
                entrypoint: pauseAll
          - callback: on_treasury_factory_unpause_all
            pattern:
              - destination: treasury_factory
                entrypoint: unpauseAll
          - callback: on_treasury_factory_toggle_pause_entrypoint
            pattern:
              - destination: treasury_factory
                entrypoint: togglePauseEntrypoint
          - callback: on_treasury_factory_create_treasury
            pattern:
              - destination: treasury_factory
                entrypoint: createTreasury
              - source: treasury_factory
                type: origination
                similar_to: treasury
          - callback: on_treasury_factory_track_treasury
            pattern:
              - destination: treasury_factory
                entrypoint: trackTreasury
          - callback: on_treasury_factory_untrack_treasury
            pattern:
              - destination: treasury_factory
                entrypoint: untrackTreasury
          - callback: on_treasury_factory_set_lambda
            pattern:
              - destination: treasury_factory
                entrypoint: setLambda
          - callback: on_treasury_factory_set_product_lambda
            pattern:
              - destination: treasury_factory
                entrypoint: setProductLambda
      # Token sale contract indexes
      token_sale:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - token_sale
        handlers:
          - callback: on_token_sale_origination
            pattern:
              - type: origination
                originated_contract: token_sale
          - callback: on_token_sale_set_admin
            pattern:
              - destination: token_sale
                entrypoint: setAdmin
          - callback: on_token_sale_set_governance
            pattern:
              - destination: token_sale
                entrypoint: setGovernance
          - callback: on_token_sale_update_config
            pattern:
              - destination: token_sale
                entrypoint: updateConfig
          - callback: on_token_sale_set_whitelist_timestamp
            pattern:
              - destination: token_sale
                entrypoint: setWhitelistTimestamp
          - callback: on_token_sale_add_to_whitelist
            pattern:
              - destination: token_sale
                entrypoint: addToWhitelist
          - callback: on_token_sale_remove_from_whitelist
            pattern:
              - destination: token_sale
                entrypoint: removeFromWhitelist
          - callback: on_token_sale_start_sale
            pattern:
              - destination: token_sale
                entrypoint: startSale
          - callback: on_token_sale_close_sale
            pattern:
              - destination: token_sale
                entrypoint: closeSale
          - callback: on_token_sale_pause_sale
            pattern:
              - destination: token_sale
                entrypoint: pauseSale
          - callback: on_token_sale_buy_tokens
            pattern:
              - destination: token_sale
                entrypoint: buyTokens
          - callback: on_token_sale_claim_tokens
            pattern:
              - destination: token_sale
                entrypoint: claimTokens
      # Vault contract indexes
      vault:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - vault
        handlers:
          - callback: on_vault_origination
            pattern:
              - type: origination
                originated_contract: vault
          - callback: on_vault_set_admin
            pattern:
              - destination: vault
                entrypoint: setAdmin
          - callback: on_vault_set_governance
            pattern:
              - destination: vault
                entrypoint: setGovernance
          - callback: on_vault_update_depositor
            pattern:
              - destination: vault
                entrypoint: updateDepositor
          - callback: on_vault_set_lambda
            pattern:
              - destination: vault
                entrypoint: setLambda
      # Vault Factory contract indexes
      vault_factory:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - vault_factory
          - treasury
        handlers:
          - callback: on_vault_factory_origination
            pattern:
              - type: origination
                originated_contract: vault_factory
          - callback: on_vault_factory_set_admin
            pattern:
              - destination: vault_factory
                entrypoint: setAdmin
          - callback: on_vault_factory_set_governance
            pattern:
              - destination: vault_factory
                entrypoint: setGovernance
          - callback: on_vault_factory_update_config
            pattern:
              - destination: vault_factory
                entrypoint: updateConfig
          - callback: on_vault_factory_update_general_contracts
            pattern:
              - destination: vault_factory
                entrypoint: updateGeneralContracts
          - callback: on_vault_factory_update_whitelist_contracts
            pattern:
              - destination: vault_factory
                entrypoint: updateWhitelistContracts
          - callback: on_vault_factory_pause_all
            pattern:
              - destination: vault_factory
                entrypoint: pauseAll
          - callback: on_vault_factory_unpause_all
            pattern:
              - destination: vault_factory
                entrypoint: unpauseAll
          - callback: on_vault_factory_toggle_pause_entrypoint
            pattern:
              - destination: vault_factory
                entrypoint: togglePauseEntrypoint
          - callback: on_vault_factory_create_vault
            pattern:
              - destination: vault_factory
                entrypoint: createVault
              - source: vault_factory
                type: origination
                similar_to: vault
          - callback: on_vault_factory_set_lambda
            pattern:
              - destination: vault_factory
                entrypoint: setLambda
          - callback: on_vault_factory_set_product_lambda
            pattern:
              - destination: vault_factory
                entrypoint: setProductLambda
      # Lending Controller contract indexes
      lending_controller:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - lending_controller
        handlers:
          - callback: on_lending_controller_origination
            pattern:
              - type: origination
                originated_contract: lending_controller
          - callback: on_lending_controller_set_admin
            pattern:
              - destination: lending_controller
                entrypoint: setAdmin
          - callback: on_lending_controller_set_governance
            pattern:
              - destination: lending_controller
                entrypoint: setGovernance
          - callback: on_lending_controller_update_config
            pattern:
              - destination: lending_controller
                entrypoint: updateConfig
          - callback: on_lending_controller_update_whitelist_token_contracts
            pattern:
              - destination: lending_controller
                entrypoint: updateWhitelistTokenContracts
          - callback: on_lending_controller_pause_all
            pattern:
              - destination: lending_controller
                entrypoint: pauseAll
          - callback: on_lending_controller_unpause_all
            pattern:
              - destination: lending_controller
                entrypoint: unpauseAll
          - callback: on_lending_controller_toggle_pause_entrypoint
            pattern:
              - destination: lending_controller
                entrypoint: togglePauseEntrypoint
          - callback: on_lending_controller_set_loan_token
            pattern:
              - destination: lending_controller
                entrypoint: setLoanToken
          - callback: on_lending_controller_set_collateral_token
            pattern:
              - destination: lending_controller
                entrypoint: setCollateralToken
          - callback: on_lending_controller_register_vault_creation
            pattern:
              - destination: lending_controller
                entrypoint: registerVaultCreation
          - callback: on_lending_controller_add_liquidity
            pattern:
              - destination: lending_controller
                entrypoint: addLiquidity
          - callback: on_lending_controller_remove_liquidity
            pattern:
              - destination: lending_controller
                entrypoint: removeLiquidity
          - callback: on_lending_controller_close_vault
            pattern:
              - destination: lending_controller
                entrypoint: closeVault
          - callback: on_lending_controller_register_deposit
            pattern:
              - destination: lending_controller
                entrypoint: registerDeposit
          - callback: on_lending_controller_register_withdrawal
            pattern:
              - destination: lending_controller
                entrypoint: registerWithdrawal
          - callback: on_lending_controller_mark_for_liquidation
            pattern:
              - destination: lending_controller
                entrypoint: markForLiquidation
          - callback: on_lending_controller_liquidate_vault
            pattern:
              - destination: lending_controller
                entrypoint: liquidateVault
          - callback: on_lending_controller_borrow
            pattern:
              - destination: lending_controller
                entrypoint: borrow
          - callback: on_lending_controller_repay
            pattern:
              - destination: lending_controller
                entrypoint: repay
          - callback: on_lending_controller_vault_deposit_staked_mvk
            pattern:
              - destination: lending_controller
                entrypoint: vaultDepositStakedMvk
          - callback: on_lending_controller_vault_withdraw_staked_mvk
            pattern:
              - destination: lending_controller
                entrypoint: vaultWithdrawStakedMvk
          - callback: on_lending_controller_set_lambda
            pattern:
              - destination: lending_controller
                entrypoint: setLambda
      # Lending Controller Mock Time contract indexes
      lending_controller_mock_time:
        kind: operation
        datasource: tzkt_ghostnet
        types:
          - origination
          - transaction
        contracts:
          - lending_controller_mock_time
        handlers:
          - callback: on_lending_controller_mock_time_origination
            pattern:
              - type: origination
                originated_contract: lending_controller_mock_time
          - callback: on_lending_controller_mock_time_set_admin
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: setAdmin
          - callback: on_lending_controller_mock_time_set_governance
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: setGovernance
          - callback: on_lending_controller_mock_time_update_config
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: updateConfig
          - callback: on_lending_controller_mock_time_update_whitelist_token_contracts
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: updateWhitelistTokenContracts
          - callback: on_lending_controller_mock_time_pause_all
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: pauseAll
          - callback: on_lending_controller_mock_time_unpause_all
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: unpauseAll
          - callback: on_lending_controller_mock_time_toggle_pause_entrypoint
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: togglePauseEntrypoint
          - callback: on_lending_controller_mock_time_set_loan_token
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: setLoanToken
          - callback: on_lending_controller_mock_time_set_collateral_token
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: setCollateralToken
          - callback: on_lending_controller_mock_time_register_vault_creation
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: registerVaultCreation
          - callback: on_lending_controller_mock_time_add_liquidity
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: addLiquidity
          - callback: on_lending_controller_mock_time_remove_liquidity
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: removeLiquidity
          - callback: on_lending_controller_mock_time_close_vault
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: closeVault
          - callback: on_lending_controller_mock_time_register_deposit
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: registerDeposit
          - callback: on_lending_controller_mock_time_register_withdrawal
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: registerWithdrawal
          - callback: on_lending_controller_mock_time_mark_for_liquidation
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: markForLiquidation
          - callback: on_lending_controller_mock_time_liquidate_vault
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: liquidateVault
          - callback: on_lending_controller_mock_time_borrow
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: borrow
          - callback: on_lending_controller_mock_time_repay
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: repay
          - callback: on_lending_controller_mock_time_vault_deposit_staked_mvk
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: vaultDepositStakedMvk
          - callback: on_lending_controller_mock_time_vault_withdraw_staked_mvk
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: vaultWithdrawStakedMvk
          - callback: on_lending_controller_mock_time_set_lambda
            pattern:
              - destination: lending_controller_mock_time
                entrypoint: setLambda

hasura:
  enabled: true
  image:
    registry: docker.io
    repository: hasura/graphql-engine
    tag: v2.13.0
  hpa:
    enabled: true
  resources:
    enabled: true
    requests:
      memory: 1000Mi
      cpu: 1000m
    limits:
      memory: 2000Mi
      cpu: 1500m
  ingress:
    enabled: false
    service:
      name:
    host:
    secretName:
  databaseURLKeyInSecret: HASURA_GRAPHQL_DATABASE_URL_PROD_2

# pgadmin4 module values
pgadmin4:
  enabled: true
  replicaCount: 1

  ## pgAdmin4 container image
  ##
  image:
    registry: docker.io
    repository: dpage/pgadmin4
    # Overrides the image tag whose default is the chart appVersion.
    tag: '6.12'
    pullPolicy: IfNotPresent

  ## Deployment annotations
  annotations: {}

  ## priorityClassName
  priorityClassName: ''

  ## Deployment entrypoint override
  ## Useful when there's a requirement to modify container's default:
  ## https://www.vaultproject.io/docs/platform/k8s/injector/examples#environment-variable-example
  ## ref: https://github.com/postgres/pgadmin4/blob/master/Dockerfile#L206
  # command: "['/bin/sh', '-c', 'source /vault/secrets/config && <entrypoint script>']"

  service:
    type: ClusterIP
    port: 80
    targetPort: 80
    # targetPort: 4181 To be used with a proxy extraContainer
    portName: http

    annotations:
      {}
      ## Special annotations at the service level, e.g
      ## this will set vnet internal IP's rather than public ip's
      ## service.beta.kubernetes.io/azure-load-balancer-internal: "true"

    ## Specify the nodePort value for the service types.
    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport
    ##
    # nodePort:

  ## Pod Service Account
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
  ##
  serviceAccount:
    # Specifies whether a service account should be created
    create: false
    # Annotations to add to the service account
    annotations: {}
    # The name of the service account to use.
    # If not set and create is true, a name is generated using the fullname template
    name: ''

  ## Strategy used to replace old Pods by new ones
  ## Ref: https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#strategy
  ##
  strategy:
    {}
    # type: RollingUpdate
    # rollingUpdate:
    #   maxSurge: 0
    #   maxUnavailable: 1

  ## Server definitions will be loaded at launch time. This allows connection
  ## information to be pre-loaded into the instance of pgAdmin4 in the container.
  ## Ref: https://www.pgadmin.org/docs/pgadmin4/latest/import_export_servers.html
  ##
  serverDefinitions:
    ## If true, server definitions will be created
    ##
    enabled: true

    servers:
      # dipdup:
      #   Name: 'Dipdup'
      #   Group: 'Servers'
      #   Port: 5432
      #   Username: 'dipdup'
      #   Host: '10.10.11.5'
      #   SSLMode: 'prefer'
      #   MaintenanceDB: 'dipdup'

  networkPolicy:
    enabled: true

  ## Ingress
  ## Ref: https://kubernetes.io/docs/concepts/services-networking/ingress/
  ingress:
    enabled: false
    annotations:
      {}
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    # ingressClassName: ""
    hosts:
      - host: chart-example.local
        paths:
          - path: /
            pathType: Prefix
    tls: []
    #  - secretName: chart-example-tls
    #    hosts:
    #      - chart-example.local

  # Additional config maps to be mounted inside a container
  # Can be used to map config maps for sidecar as well
  extraConfigmapMounts:
    []
    # - name: certs-configmap
    #   mountPath: /etc/ssl/certs
    #   subPath: ca-certificates.crt # (optional)
    #   configMap: certs-configmap
    #   readOnly: true

  extraSecretMounts:
    []
    # - name: pgpassfile
    #   secret: pgpassfile
    #   subPath: pgpassfile
    #   mountPath: "/var/lib/pgadmin/storage/pgadmin/file.pgpass"
    #   readOnly: true

  ## Additional volumes to be mounted inside a container
  ##
  extraVolumeMounts: []

  ## Specify additional containers in extraContainers.
  ## For example, to add an authentication proxy to a pgadmin4 pod.
  extraContainers: |
    # - name: proxy
    #   image: quay.io/gambol99/keycloak-proxy:latest
    #   args:
    #   - -provider=github
    #   - -client-id=
    #   - -client-secret=
    #   - -github-org=<ORG_NAME>
    #   - -email-domain=*
    #   - -cookie-secret=
    #   - -http-address=http://0.0.0.0:4181
    #   - -upstream-url=http://127.0.0.1:3000
    #   ports:
    #     - name: proxy-web
    #       containerPort: 4181

  ## Provide the name for an existing secret.
  ## Useful to avoid specifying password and server config in YAML files
  existingSecret: ''

  ## pgAdmin4 startup configuration
  ## Values in here get injected as environment variables
  ## Needed chart reinstall for apply changes
  env:
    # can be email or nickname
    email: tristan@tezosdynamics.com
    password: ''
    # pgpassfile: /var/lib/pgadmin/storage/pgadmin/file.pgpass

    # set context path for application (e.g. /pgadmin4/*)
    # contextPath: /pgadmin4

    ## If True, allows pgAdmin4 to create session cookies based on IP address
    ## Ref: https://www.pgadmin.org/docs/pgadmin4/latest/config_py.html
    ##
    enhanced_cookie_protection: 'False'

    ## Add custom environment variables that will be injected to deployment
    ## Ref: https://www.pgadmin.org/docs/pgadmin4/latest/container_deployment.html
    ##
    variables: []
    # - name: PGADMIN_LISTEN_ADDRESS
    #   value: "0.0.0.0"
    # - name: PGADMIN_LISTEN_PORT
    #   value: "8080"

  ## Additional environment variables from ConfigMaps
  envVarsFromConfigMaps:
    []
    # - array-of
    # - config-map-names

  ## Additional environment variables from Secrets
  envVarsFromSecrets:
    []
    # - array-of
    # - secret-names

  persistentVolume:
    ## If true, pgAdmin4 will create/use a Persistent Volume Claim
    ## If false, use emptyDir
    ##
    enabled: false

    ## pgAdmin4 Persistent Volume Claim annotations
    ##
    annotations: {}

    ## pgAdmin4 Persistent Volume access modes
    ## Must match those of existing PV or dynamic provisioner
    ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
    accessModes:
      - ReadWriteOnce

    ## pgAdmin4 Persistent Volume Size
    ##
    size: 500Mi

    ## pgAdmin4 Persistent Volume Storage Class
    ## If defined, storageClassName: <storageClass>
    ## If set to "-", storageClassName: "", which disables dynamic provisioning
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    ##
    storageClass: 'do-block-storage'
    # existingClaim: ""

  ## Additional volumes to be added to the deployment
  ##
  extraVolumes: []

  ## Security context to be added to pgAdmin4 pods
  ##
  securityContext:
    runAsUser: 5050
    runAsGroup: 5050
    fsGroup: 5050

  ## pgAdmin4 readiness and liveness probe initial delay and timeout
  ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/
  ##
  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 60
    timeoutSeconds: 15
    successThreshold: 1
    failureThreshold: 3

  readinessProbe:
    initialDelaySeconds: 30
    periodSeconds: 60
    timeoutSeconds: 15
    successThreshold: 1
    failureThreshold: 3

  ## Required to be enabled pre pgAdmin4 4.16 release, to set the ACL on /var/lib/pgadmin.
  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/init-containers/
  ##
  VolumePermissions:
    ## If true, enables an InitContainer to set permissions on /var/lib/pgadmin.
    ##
    enabled: false

  ## Additional InitContainers to initialize the pod
  ##
  extraInitContainers: |
    #   - name: add-folder-for-pgpass
    #     image: "dpage/pgadmin4:latest"
    #     command: ["/bin/mkdir", "-p", "/var/lib/pgadmin/storage/pgadmin"]
    #     volumeMounts:
    #       - name: pgadmin-data
    #         mountPath: /var/lib/pgadmin
    #     securityContext:
    #       runAsUser: 5050

  containerPorts:
    http: 80

  resources:
    {}
    # We usually recommend not to specify default resources and to leave this as a conscious
    # choice for the user. This also increases chances charts run on environments with little
    # resources, such as Minikube. If you do want to specify resources, uncomment the following
    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
    # limits:
    #   cpu: 100m
    #   memory: 128Mi
    # requests:
    #   cpu: 100m
    #   memory: 128Mi

  ## Horizontal Pod Autoscaling
  ## ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/
  #
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80
    # targetMemoryUtilizationPercentage: 80

  ## Node labels for pgAdmin4 pod assignment
  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
  ##
  nodeSelector: {}

  ## Node tolerations for server scheduling to nodes with taints
  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
  ##
  tolerations: []

  ## Pod affinity
  ##
  affinity: {}

  ## Pod annotations
  ##
  podAnnotations: {}

  ## Pod labels
  ##
  podLabels:
    {}
    # key1: value1
    # key2: value2

  init:
    ## Init container resources
    ##
    resources: {}

  ## Define values for chart tests
  test:
    ## Container image for test-connection.yaml
    image:
      registry: docker.io
      repository: busybox
      tag: latest
    ## Resources request/limit for test-connection Pod
    resources: {}
    #     limits:
    #       cpu: 25m
    #       memory: 16Mi
    #     requests:
    #       cpu: 50m
    #       memory: 32Mi
    ## Security context for test-connection Pod
    securityContext:
      runAsUser: 5051
      runAsGroup: 5051
      fsGroup: 5051
